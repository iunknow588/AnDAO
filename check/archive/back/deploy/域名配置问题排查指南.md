# åŸŸåé…ç½®é—®é¢˜æ’æŸ¥æŒ‡å—

## ğŸš¨ å½“å‰é—®é¢˜

è®¿é—® `andao.cdao.online` æ—¶å‡ºç° **HTTP 525 é”™è¯¯ï¼ˆSSL Handshake Failedï¼‰**

## ğŸ“Š é—®é¢˜è¯Šæ–­ç»“æœ

### DNS è§£æçŠ¶æ€
```
âœ… DNS è§£ææ­£å¸¸
   - åŸŸåæŒ‡å‘: 104.21.6.222, 172.67.155.45ï¼ˆCloudflare IPï¼‰
   - ä½¿ç”¨çš„ CDN: Cloudflare

âŒ Vercel åŸŸåé…ç½®
   - é¡¹ç›®ä¸­æœªé…ç½®è¯¥åŸŸå
   - `vercel domains ls` è¿”å› 0 ä¸ªåŸŸå

âŒ HTTP å“åº”
   - çŠ¶æ€ç : 525 (SSL Handshake Failed)
   - åŸå› : Cloudflare æ— æ³•ä¸æºæœåŠ¡å™¨ï¼ˆVercelï¼‰å»ºç«‹ SSL è¿æ¥
```

## ğŸ” é—®é¢˜æ ¹æœ¬åŸå› 

1. **åŸŸåæœªåœ¨ Vercel ä¸­æ·»åŠ **ï¼šè™½ç„¶ DNS è®°å½•å·²é…ç½®ï¼Œä½† Vercel é¡¹ç›®ä¸­æ²¡æœ‰æ·»åŠ  `andao.cdao.online`ï¼Œå¯¼è‡´ Vercel ä¸çŸ¥é“è¯¥å¦‚ä½•å¤„ç†è¿™ä¸ªåŸŸåçš„è¯·æ±‚ã€‚

2. **Cloudflare ä¸ Vercel ä¹‹é—´çš„ SSL é…ç½®ä¸åŒ¹é…**ï¼šCloudflare å°è¯•é€šè¿‡ HTTPS è¿æ¥åˆ° Vercelï¼Œä½†ç”±äº Vercel ä¸è¯†åˆ«è¯¥åŸŸåï¼ŒSSL æ¡æ‰‹å¤±è´¥ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

### æ­¥éª¤ 1: åœ¨ Vercel Dashboard ä¸­æ·»åŠ åŸŸå

#### 1.1 è®¿é—® Vercel é¡¹ç›®è®¾ç½®
```
https://vercel.com/iunknow588s-projects/an-dao/settings/domains
```

#### 1.2 æ·»åŠ åŸŸå
1. ç‚¹å‡» **"Add"** æŒ‰é’®
2. è¾“å…¥åŸŸåï¼š`andao.cdao.online`
3. ç‚¹å‡» **"Add"** ç¡®è®¤

#### 1.3 ç­‰å¾… Vercel éªŒè¯
- Vercel ä¼šè‡ªåŠ¨æ£€æµ‹ DNS é…ç½®
- å¦‚æœ DNS é…ç½®æ­£ç¡®ï¼ŒåŸŸåä¼šç«‹å³ç”Ÿæ•ˆ
- å¦‚æœ DNS é…ç½®ä¸æ­£ç¡®ï¼ŒVercel ä¼šæç¤ºéœ€è¦çš„ DNS è®°å½•

### æ­¥éª¤ 2: é…ç½® DNS è®°å½•

#### æ–¹æ¡ˆ A: ä½¿ç”¨ Vercel ç›´è¿ï¼ˆæ¨è âœ¨ï¼‰

**ä¼˜ç‚¹**ï¼šé…ç½®ç®€å•ï¼Œç”± Vercel è‡ªåŠ¨ç®¡ç† SSL è¯ä¹¦

**Cloudflare DNS é…ç½®**ï¼š

1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com)
2. é€‰æ‹©åŸŸå `cdao.online`
3. è¿›å…¥ **DNS** â†’ **Records**
4. **åˆ é™¤** `andao` å­åŸŸåçš„ A è®°å½•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
5. **æ·»åŠ ** CNAME è®°å½•ï¼š

   | Type  | Name  | Target                | Proxy status | TTL  |
   |-------|-------|-----------------------|--------------|------|
   | CNAME | andao | cname.vercel-dns.com  | DNS only â˜ï¸   | Auto |

   **é‡è¦**ï¼šProxy status å¿…é¡»è®¾ç½®ä¸º **"DNS only"**ï¼ˆç°è‰²äº‘æœµï¼‰ï¼Œä¸è¦ä½¿ç”¨ Cloudflare ä»£ç†ï¼ˆæ©™è‰²äº‘æœµï¼‰

6. ç‚¹å‡» **"Save"** ä¿å­˜

**ç­‰å¾…æ—¶é—´**ï¼šDNS ç”Ÿæ•ˆé€šå¸¸éœ€è¦ 5-10 åˆ†é’Ÿ

#### æ–¹æ¡ˆ B: ä½¿ç”¨ Cloudflare CDN + Vercel

**ä¼˜ç‚¹**ï¼šå¯ä»¥åˆ©ç”¨ Cloudflare çš„ DDoS é˜²æŠ¤å’Œå…¨çƒ CDN

**ç¼ºç‚¹**ï¼šé…ç½®è¾ƒå¤æ‚ï¼Œéœ€è¦æ­£ç¡®è®¾ç½® SSL/TLS æ¨¡å¼

**é…ç½®æ­¥éª¤**ï¼š

1. **åœ¨ Vercel ä¸­æ·»åŠ åŸŸå**ï¼ˆåŒæ­¥éª¤ 1ï¼‰

2. **åœ¨ Cloudflare ä¸­é…ç½® SSL/TLS æ¨¡å¼**ï¼š
   - ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com)
   - é€‰æ‹©åŸŸå `cdao.online`
   - è¿›å…¥ **SSL/TLS** â†’ **Overview**
   - å°†åŠ å¯†æ¨¡å¼è®¾ç½®ä¸º **"Full (strict)"** æˆ– **"Full"**

3. **ä¿æŒç°æœ‰çš„ A è®°å½•**ï¼š
   
   | Type | Name  | Content        | Proxy status | TTL  |
   |------|-------|----------------|--------------|------|
   | A    | andao | 104.21.6.222   | Proxied â˜ï¸    | Auto |
   | A    | andao | 172.67.155.45  | Proxied â˜ï¸    | Auto |

   **é‡è¦**ï¼šProxy status åº”è¯¥æ˜¯ **"Proxied"**ï¼ˆæ©™è‰²äº‘æœµï¼‰

4. **åœ¨ Cloudflare ä¸­é…ç½® Page Rulesï¼ˆå¯é€‰ï¼‰**ï¼š
   - è¿›å…¥ **Rules** â†’ **Page Rules**
   - æ·»åŠ è§„åˆ™ï¼š`https://andao.cdao.online/*`
   - è®¾ç½®ï¼š**SSL** = **Strict**

**ç­‰å¾…æ—¶é—´**ï¼šé…ç½®ç”Ÿæ•ˆé€šå¸¸éœ€è¦ 2-5 åˆ†é’Ÿ

### æ­¥éª¤ 3: éªŒè¯é…ç½®

#### 3.1 æ£€æŸ¥ DNS è§£æ

```bash
# Linux/Mac
dig andao.cdao.online

# Windows
nslookup andao.cdao.online
```

**é¢„æœŸç»“æœ**ï¼š
- æ–¹æ¡ˆ Aï¼ˆVercel ç›´è¿ï¼‰ï¼šåº”è¯¥çœ‹åˆ° CNAME è®°å½•æŒ‡å‘ `cname.vercel-dns.com`
- æ–¹æ¡ˆ Bï¼ˆCloudflare CDNï¼‰ï¼šåº”è¯¥çœ‹åˆ° A è®°å½•æŒ‡å‘ Cloudflare IP

#### 3.2 æ£€æŸ¥ HTTP å“åº”

```bash
curl -I https://andao.cdao.online
```

**é¢„æœŸç»“æœ**ï¼š
```
HTTP/2 200 OK
...
```

#### 3.3 æµè§ˆå™¨è®¿é—®

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`https://andao.cdao.online`

**é¢„æœŸç»“æœ**ï¼š
- âœ… é¡µé¢æ­£å¸¸åŠ è½½
- âœ… HTTPS è¯ä¹¦æœ‰æ•ˆï¼ˆç»¿è‰²é”æ ‡å¿—ï¼‰
- âœ… æ˜¾ç¤º AnDaoWallet é’±åŒ…ç•Œé¢

## ğŸ› å¸¸è§é—®é¢˜

### Q1: é…ç½®åä»ç„¶æ˜¾ç¤º 525 é”™è¯¯

**åŸå› **ï¼šDNS ç¼“å­˜æˆ–é…ç½®æœªç”Ÿæ•ˆ

**è§£å†³**ï¼š
1. ç­‰å¾… 5-10 åˆ†é’Ÿè®© DNS ä¼ æ’­
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼š`Ctrl+Shift+Delete`
3. åˆ·æ–° DNS ç¼“å­˜ï¼š
   ```bash
   # Linux
   sudo systemd-resolve --flush-caches
   
   # Mac
   sudo dscacheutil -flushcache
   
   # Windows
   ipconfig /flushdns
   ```

### Q2: Vercel æç¤º "Invalid Configuration"

**åŸå› **ï¼šDNS è®°å½•é…ç½®ä¸æ­£ç¡®

**è§£å†³**ï¼š
1. ç¡®è®¤ CNAME è®°å½•çš„ Target æ˜¯ `cname.vercel-dns.com`ï¼ˆä¸æ˜¯ Vercel çš„å…¶ä»–åŸŸåï¼‰
2. ç¡®è®¤ CNAME è®°å½•çš„ Proxy status æ˜¯ "DNS only"ï¼ˆç°è‰²äº‘æœµï¼‰
3. åˆ é™¤ä»»ä½•å†²çªçš„ Aã€AAAA æˆ–å…¶ä»– CNAME è®°å½•

### Q3: Cloudflare æ˜¾ç¤º "SSL Error"

**åŸå› **ï¼šSSL/TLS æ¨¡å¼è®¾ç½®ä¸æ­£ç¡®

**è§£å†³**ï¼š
1. æ£€æŸ¥ Cloudflare çš„ SSL/TLS æ¨¡å¼æ˜¯å¦ä¸º "Full" æˆ– "Full (strict)"
2. å¦‚æœä½¿ç”¨ "Flexible" æ¨¡å¼ï¼Œæ”¹ä¸º "Full"
3. ç­‰å¾… 2-5 åˆ†é’Ÿè®©é…ç½®ç”Ÿæ•ˆ

### Q4: åŸŸåè§£æåˆ°é”™è¯¯çš„ IP åœ°å€

**åŸå› **ï¼šDNS ç¼“å­˜æˆ–é…ç½®é”™è¯¯

**è§£å†³**ï¼š
1. ä½¿ç”¨åœ¨çº¿å·¥å…·æ£€æŸ¥ DNSï¼šhttps://www.whatsmydns.net
2. ç¡®è®¤ DNS è®°å½•åœ¨å…¨çƒèŒƒå›´å†…å·²ä¼ æ’­
3. å¦‚æœä»ç„¶é”™è¯¯ï¼Œæ£€æŸ¥ DNS è®°å½•é…ç½®å¹¶é‡æ–°ä¿å­˜

## ğŸ“ é…ç½®æ¸…å•

ä½¿ç”¨æ­¤æ¸…å•ç¡®ä¿æ‰€æœ‰æ­¥éª¤éƒ½å·²å®Œæˆï¼š

### Vercel é…ç½®
- [ ] å·²åœ¨ Vercel Dashboard ä¸­æ·»åŠ åŸŸå `andao.cdao.online`
- [ ] Vercel æ˜¾ç¤ºåŸŸåçŠ¶æ€ä¸º "Valid Configuration" æˆ– "Ready"
- [ ] åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­å¯ä»¥çœ‹åˆ°è¯¥åŸŸå

### DNS é…ç½®ï¼ˆæ–¹æ¡ˆ A - æ¨èï¼‰
- [ ] å·²åœ¨ Cloudflare ä¸­åˆ é™¤ `andao` çš„ A è®°å½•
- [ ] å·²åœ¨ Cloudflare ä¸­æ·»åŠ  CNAME è®°å½•ï¼š`andao` â†’ `cname.vercel-dns.com`
- [ ] CNAME è®°å½•çš„ Proxy status è®¾ç½®ä¸º "DNS only"ï¼ˆç°è‰²äº‘æœµï¼‰
- [ ] DNS è®°å½•å·²ä¿å­˜

### DNS é…ç½®ï¼ˆæ–¹æ¡ˆ B - Cloudflare CDNï¼‰
- [ ] å·²åœ¨ Cloudflare ä¸­ä¿ç•™ A è®°å½•æŒ‡å‘ Cloudflare IP
- [ ] A è®°å½•çš„ Proxy status è®¾ç½®ä¸º "Proxied"ï¼ˆæ©™è‰²äº‘æœµï¼‰
- [ ] Cloudflare SSL/TLS æ¨¡å¼è®¾ç½®ä¸º "Full" æˆ– "Full (strict)"
- [ ] ï¼ˆå¯é€‰ï¼‰å·²é…ç½® Page Rules

### éªŒè¯
- [ ] `dig andao.cdao.online` è¿”å›æ­£ç¡®çš„ DNS è®°å½•
- [ ] `curl -I https://andao.cdao.online` è¿”å› HTTP 200
- [ ] æµè§ˆå™¨å¯ä»¥æ­£å¸¸è®¿é—® `https://andao.cdao.online`
- [ ] HTTPS è¯ä¹¦æœ‰æ•ˆï¼ˆç»¿è‰²é”æ ‡å¿—ï¼‰

## ğŸ”— ç›¸å…³é“¾æ¥

- **Vercel é¡¹ç›®è®¾ç½®**: https://vercel.com/iunknow588s-projects/an-dao/settings/domains
- **Cloudflare Dashboard**: https://dash.cloudflare.com
- **Vercel åŸŸåé…ç½®æ–‡æ¡£**: https://vercel.com/docs/concepts/projects/domains
- **DNS ä¼ æ’­æ£€æŸ¥å·¥å…·**: https://www.whatsmydns.net
- **SSL æ£€æŸ¥å·¥å…·**: https://www.ssllabs.com/ssltest/

## ğŸ’¡ æ¨èé…ç½®

**æœ€ç®€å•çš„é…ç½®æ–¹å¼**ï¼šä½¿ç”¨ **æ–¹æ¡ˆ Aï¼ˆVercel ç›´è¿ï¼‰**

1. åœ¨ Vercel Dashboard æ·»åŠ åŸŸå
2. åœ¨ Cloudflare é…ç½® CNAME è®°å½•ï¼ˆDNS onlyï¼‰
3. ç­‰å¾… 5-10 åˆ†é’Ÿ
4. å®Œæˆï¼

**ä¼˜åŠ¿**ï¼š
- âœ… é…ç½®ç®€å•
- âœ… SSL è¯ä¹¦è‡ªåŠ¨ç®¡ç†
- âœ… ä¸éœ€è¦é¢å¤–çš„ SSL/TLS é…ç½®
- âœ… Vercel çš„å…¨çƒ CDN æ€§èƒ½ä¼˜ç§€

---

**æ›´æ–°æ—¶é—´**: 2026-01-13
**é€‚ç”¨ç‰ˆæœ¬**: AnDaoWallet H5 v0.1.0
