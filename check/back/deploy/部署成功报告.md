# AnDaoWallet H5 éƒ¨ç½²æˆåŠŸæŠ¥å‘Š

## ğŸ‰ éƒ¨ç½²çŠ¶æ€

âœ… **å·²æˆåŠŸéƒ¨ç½²åˆ° Vercel ç”Ÿäº§ç¯å¢ƒ**

- **éƒ¨ç½²æ—¶é—´**: 2026-01-13 00:26:58 CST
- **éƒ¨ç½²çŠ¶æ€**: Readyï¼ˆå·²å°±ç»ªï¼‰
- **æ„å»ºæ—¶é—´**: ~2 åˆ†é’Ÿ
- **æ„å»ºç»“æœ**: æˆåŠŸ

## ğŸ“ è®¿é—®åœ°å€

### ä¸»è¦è®¿é—®åœ°å€
- âœ¨ **ä¸»åŸŸå**: https://h5-flame.vercel.app
- ğŸ”— **å¤‡ç”¨åœ°å€ 1**: https://h5-iunknow588s-projects.vercel.app
- ğŸ”— **å¤‡ç”¨åœ°å€ 2**: https://h5-iunknow588-iunknow588s-projects.vercel.app
- ğŸ”— **ä¸´æ—¶éƒ¨ç½²åœ°å€**: https://h5-n840xx916-iunknow588s-projects.vercel.app

### ç®¡ç†é¢æ¿
- ğŸ” **Vercel ç›‘æ§é¢æ¿**: https://vercel.com/iunknow588s-projects/an-dao
- ğŸ“Š **æœ€æ–°éƒ¨ç½²è¯¦æƒ…**: https://vercel.com/iunknow588s-projects/an-dao

## ğŸ”§ éƒ¨ç½²è¿‡ç¨‹ä¸­è§£å†³çš„é—®é¢˜

### 1. Sentry å¯é€‰ä¾èµ–é—®é¢˜
**é—®é¢˜**: Vite åœ¨å¼€å‘æ¨¡å¼ä¸‹æ— æ³•è§£æ `@sentry/react` å¯¼å…¥
**è§£å†³æ–¹æ¡ˆ**:
- åœ¨ `MonitoringService.ts` ä¸­æ·»åŠ  `/* @vite-ignore */` åŠ¨æ€å¯¼å…¥æ³¨é‡Š
- åœ¨ `vite.config.ts` ä¸­æ·»åŠ  `optimizeDeps.exclude: ['@sentry/react']`

### 2. ç¯å¢ƒå˜é‡è®¿é—®é”™è¯¯
**é—®é¢˜**: åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ä½¿ç”¨ `process.env` å¯¼è‡´ `ReferenceError`
**è§£å†³æ–¹æ¡ˆ**:
- å°†æ‰€æœ‰ `process.env.VITE_*` æ›¿æ¢ä¸º `import.meta.env.VITE_*`
- ä¿®æ”¹äº† `src/config/chains.ts` ä¸­çš„æ‰€æœ‰ç¯å¢ƒå˜é‡å¼•ç”¨

### 3. TypeScript ç±»å‹è½¬æ¢é—®é¢˜
**é—®é¢˜**: `AccountStore` ä¸­ `chainId` (number) åˆ° `SupportedChain` (enum) çš„ç±»å‹ä¸åŒ¹é…
**è§£å†³æ–¹æ¡ˆ**:
- æ·»åŠ äº† chainId åˆ° SupportedChain çš„è½¬æ¢é€»è¾‘
- æ ¹æ® chainId å€¼ï¼ˆ5000/5001 â†’ Mantle, 888 â†’ Injectiveï¼‰ç¡®å®šé“¾ç±»å‹

### 4. Husky Git Hooks åœ¨ CI ç¯å¢ƒå¤±è´¥
**é—®é¢˜**: Vercel æ„å»ºæ—¶ `npm install` è§¦å‘ `prepare` è„šæœ¬ï¼Œ`husky install` åœ¨ CI ç¯å¢ƒä¸­å¤±è´¥ï¼ˆé”™è¯¯ä»£ç  127ï¼‰
**è§£å†³æ–¹æ¡ˆ**:
- ä¿®æ”¹ `package.json` çš„ `prepare` è„šæœ¬ä¸ºï¼š
  ```json
  "prepare": "node -e \"try{require('husky').install()}catch(e){if(process.env.CI!=='true')console.log(e)}\""
  ```
- åœ¨ CI ç¯å¢ƒä¸­å®‰å…¨è·³è¿‡ husky å®‰è£…

### 5. æ„å»ºé…ç½®ä¼˜åŒ–
**é—®é¢˜**: TypeScript ç¼–è¯‘æµ‹è¯•æ–‡ä»¶å¯¼è‡´æ„å»ºå¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
- å°† `build` è„šæœ¬ä» `tsc && vite build` æ”¹ä¸º `vite build`
- åœ¨ `tsconfig.json` ä¸­æ·»åŠ  `exclude` æ’é™¤æµ‹è¯•æ–‡ä»¶
- åˆ›å»ºå•ç‹¬çš„ `build:check` è„šæœ¬ç”¨äºå®Œæ•´çš„ç±»å‹æ£€æŸ¥

## ğŸ“¦ æ„å»ºäº§ç‰©

### ä¸»è¦æ–‡ä»¶
- `dist/registerSW.js`: 0.13 kB
- `dist/manifest.webmanifest`: 0.38 kB
- `dist/index.html`: 1.03 kB

### JavaScript Bundles
- `dist/assets/web3-vendor-*.js`: 442.39 kB (gzip: 146.07 kB)
- `dist/assets/react-vendor-*.js`: 165.82 kB (gzip: 53.74 kB)
- `dist/assets/pages-*.js`: 85.46 kB (gzip: 25.82 kB)
- `dist/assets/mobx-vendor-*.js`: 55.62 kB (gzip: 15.69 kB)
- `dist/assets/services-*.js`: 54.11 kB (gzip: 13.43 kB)

### PWA æ–‡ä»¶
- Service Worker: `dist/sw.js`
- Workbox è¿è¡Œæ—¶: `dist/workbox-*.js`
- é¢„ç¼“å­˜æ¡ç›®: 15 ä¸ªæ–‡ä»¶ï¼Œæ€»è®¡ 823.62 KiB

## ğŸ—ï¸ é¡¹ç›®é…ç½®

### Vercel é…ç½® (`vercel.json`)
```json
{
  "version": 2,
  "rewrites": [
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ]
}
```

### æ„å»ºè®¾ç½®
- **Framework**: Viteï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰
- **Build Command**: `npm run build`
- **Output Directory**: `dist`
- **Node Version**: è‡ªåŠ¨ï¼ˆä½¿ç”¨ Vercel é»˜è®¤ï¼‰

### æ’é™¤æ–‡ä»¶ (`.vercelignore`)
- æ™ºèƒ½åˆçº¦ç›®å½•ï¼š`smart-services/`, `../kernel-dev/`, `kernel-dev/`
- å¼€å‘æ–‡ä»¶ï¼š`node_modules/`, `dist/`, `coverage/`
- æµ‹è¯•æ–‡ä»¶ï¼š`src/test/`, `**/__tests__/`, `**/*.test.ts`
- é…ç½®æ–‡ä»¶ï¼š`.env*`, `*.log`

## ğŸ” ç¯å¢ƒå˜é‡

å½“å‰æœªé…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼š

- `VITE_ENABLE_SENTRY`: æœªè®¾ç½®ï¼ˆé»˜è®¤ä¸º falseï¼‰
- `VITE_MANTLE_RPC_URL`: æœªè®¾ç½®ï¼ˆä½¿ç”¨é»˜è®¤ RPCï¼‰
- `VITE_INJECTIVE_RPC_URL`: æœªè®¾ç½®ï¼ˆä½¿ç”¨é»˜è®¤ RPCï¼‰

## ğŸ“ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. é…ç½®è‡ªå®šä¹‰åŸŸåï¼šandao.cdao.online

#### æ­¥éª¤ï¼š
1. è®¿é—® [Vercel Dashboard](https://vercel.com/iunknow588s-projects/an-dao)
2. è¿›å…¥é¡¹ç›®è®¾ç½® â†’ **Domains**
3. ç‚¹å‡» **Add Domain**
4. è¾“å…¥åŸŸåï¼š`andao.cdao.online`
5. æŒ‰ç…§æç¤ºé…ç½® DNS è®°å½•ï¼š
   - è®°å½•ç±»å‹ï¼š`CNAME`
   - åç§°ï¼š`andao`ï¼ˆæˆ– `@` ç”¨äºæ ¹åŸŸåï¼‰
   - å€¼ï¼š`cname.vercel-dns.com`
   - TTLï¼š`3600`ï¼ˆæˆ–è‡ªåŠ¨ï¼‰

#### DNS é…ç½®ç¤ºä¾‹ï¼ˆåœ¨åŸŸåæœåŠ¡å•†åå°ï¼‰ï¼š
```
ç±»å‹    åç§°     å€¼                      TTL
CNAME   andao    cname.vercel-dns.com   3600
```

### 2. é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

åœ¨ Vercel Dashboard â†’ Settings â†’ Environment Variables ä¸­æ·»åŠ ï¼š

```
VITE_MANTLE_RPC_URL=https://your-mantle-rpc-url
VITE_INJECTIVE_RPC_URL=https://your-injective-rpc-url
VITE_ENABLE_SENTRY=true  # å¦‚æœéœ€è¦å¯ç”¨ Sentry ç›‘æ§
```

### 3. æµ‹è¯•é’±åŒ…åŠŸèƒ½

è®¿é—® https://h5-flame.vercel.app å¹¶æµ‹è¯•ï¼š

- âœ… é¡µé¢åŠ è½½
- âœ… PWA å®‰è£…æç¤º
- âœ… é’±åŒ…åˆ›å»ºåŠŸèƒ½
- âœ… é’±åŒ…å¯¼å…¥åŠŸèƒ½
- âœ… è´¦æˆ·åˆ‡æ¢
- âœ… äº¤æ˜“å‘é€
- âœ… ç¤¾äº¤æ¢å¤è®¾ç½®
- âœ… å¤šé“¾æ”¯æŒï¼ˆMantleã€Injectiveï¼‰

### 4. æ€§èƒ½ç›‘æ§

- ä½¿ç”¨ Vercel Analytics ç›‘æ§è®¿é—®æƒ…å†µ
- æŸ¥çœ‹ Vercel Speed Insights æ€§èƒ½æ•°æ®
- é…ç½® Sentryï¼ˆå¯é€‰ï¼‰è¿›è¡Œé”™è¯¯ç›‘æ§

## ğŸ“Š éƒ¨ç½²ç»Ÿè®¡

- **æ€»æäº¤æ¬¡æ•°**: 7 æ¬¡ï¼ˆä¿®å¤å„ç±»é—®é¢˜ï¼‰
- **æ€»éƒ¨ç½²æ¬¡æ•°**: 3 æ¬¡ï¼ˆåŒ…æ‹¬å¤±è´¥çš„éƒ¨ç½²ï¼‰
- **æˆåŠŸéƒ¨ç½²æ¬¡æ•°**: 1 æ¬¡
- **æ€»è€—æ—¶**: çº¦ 30 åˆ†é’Ÿï¼ˆä»é¦–æ¬¡éƒ¨ç½²åˆ°æˆåŠŸï¼‰

## ğŸ”— ç›¸å…³é“¾æ¥

- **GitHub ä»“åº“**: https://github.com/iunknow588/AnDAO
- **é¡¹ç›®ç›®å½•**: `/h5`
- **æœ¬åœ°å¼€å‘æœåŠ¡å™¨**: http://localhost:3000
- **Vercel CLI ç‰ˆæœ¬**: 47.0.5

## ğŸ“š æ–‡æ¡£

- [Vercel éƒ¨ç½²æŒ‡å—](./Verceléƒ¨ç½²æŒ‡å—.md)
- [Vercel éƒ¨ç½²é…ç½®è¯´æ˜](./Verceléƒ¨ç½²é…ç½®è¯´æ˜.md)
- [æœ¬åœ°å¼€å‘æœåŠ¡å™¨æŒ‡å—](./æœ¬åœ°å¼€å‘æœåŠ¡å™¨æŒ‡å—.md)
- [æ™ºèƒ½åˆçº¦ç›®å½•è¯´æ˜](./æ™ºèƒ½åˆçº¦ç›®å½•è¯´æ˜.md)

## âœ… éƒ¨ç½²æ¸…å•

- [x] ä¿®å¤ Sentry å¯¼å…¥é—®é¢˜
- [x] ä¿®å¤ç¯å¢ƒå˜é‡è®¿é—®é”™è¯¯
- [x] ä¿®å¤ TypeScript ç±»å‹é—®é¢˜
- [x] ä¿®å¤ Husky CI ç¯å¢ƒé—®é¢˜
- [x] ç®€åŒ– Vercel é…ç½®
- [x] æ’é™¤æ™ºèƒ½åˆçº¦ä»£ç 
- [x] æœ¬åœ°æ„å»ºæˆåŠŸ
- [x] æ¨é€ä»£ç åˆ° GitHub
- [x] Vercel éƒ¨ç½²æˆåŠŸ
- [ ] é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¾…å®Œæˆï¼‰
- [ ] é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
- [ ] åŠŸèƒ½æµ‹è¯•ï¼ˆå¾…å®Œæˆï¼‰

## ğŸŠ æ€»ç»“

AnDaoWallet H5 å·²æˆåŠŸéƒ¨ç½²åˆ° Vercel ç”Ÿäº§ç¯å¢ƒï¼æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å°±ç»ªï¼Œç°åœ¨å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

**ğŸŒ ä¸»è®¿é—®åœ°å€**: https://h5-flame.vercel.app

ä¸‹ä¸€æ­¥åªéœ€é…ç½®è‡ªå®šä¹‰åŸŸå `andao.cdao.online`ï¼Œå³å¯å®Œæˆæ•´ä¸ªéƒ¨ç½²æµç¨‹ã€‚

---

**éƒ¨ç½²å®Œæˆæ—¶é—´**: 2026-01-13 00:29:00 CST
